<div class="container px-5 px-sm-0">
  <% if @book.errors.any? %>
    <div>
      <ul style="color: red">
         <%= @book.errors.count %>errors prohibited this obj from being saved<br>
         <% @book.errors.full_messages.each do |message| %><br>
           <%= message %>
         <% end %>
      </ul>
    </div>
  <% end %>
  <div class="row">
    <%= render 'books/list', book: @books, user: @user %>
    <div class="col-md-8 offset-md-1">
      <h2>Book detail</h2>
      <table class="table">
        <thead>
          <tr>
            <th>
              <%= attachment_image_tag @book.user, :profile_image, size: "50x50", format: "jpeg", fallback: "no_image.jpg" %><br>
              <%= link_to @user.name, user_path(@user.id) %>
            </th>
            <th><%= @book.title %></th>
            <th><%= @book.body %></th>
            <th>
              <% if @user.id == current_user.id %>
                <%= link_to 'Edit', edit_book_path(@book), class:"btn btn-sm btn-success edit_book_id" %>
                <%= link_to "Destroy", book_path(@book.id), method: :delete, data:{confirm: "削除しますか？"}, class:"btn btn-sm btn-danger destroy_book_id" %>
              <% end %>
            </th>
          </tr>
        </thead>
      </table>
    </div>
  </div>
</div>
